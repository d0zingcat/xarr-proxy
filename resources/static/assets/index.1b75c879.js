import{d as S,c as N,A as c,B as _,E as t,aF as s,aE as r,aH as U,aG as M,u as C,aV as Q,aD as z,aL as u,aW as A,a as G,r as K,aK as V,aQ as T,aI as F,aX as W,aY as X,aZ as Y,a_ as Z,a$ as j,b0 as J,b1 as O}from"./arco.f2670ebc.js";import{F as ee}from"./index.523f0bae.js";import{u as R,_ as x,a as se}from"./index.08985164.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{u as oe,f as ae}from"./vue.758b0c86.js";import{u as ne}from"./loading.e9d2a33f.js";import{a as B,m as re,b as E}from"./crypto.edefa411.js";/* empty css              */const I="/assets/logo.17104db5.png",te={class:"banner"},le={class:"banner-inner"},ce={class:"carousel-title"},ie={class:"carousel-sub-title"},de=["src"],_e=S({__name:"banner",setup(P){const{t:n}=R(),m=N(()=>[{slogan:n("login.banner.slogan1"),subSlogan:n("login.banner.subSlogan1"),image:I},{slogan:n("login.banner.slogan2"),subSlogan:n("login.banner.subSlogan2"),image:I},{slogan:n("login.banner.slogan3"),subSlogan:n("login.banner.subSlogan3"),image:I}]);return(k,v)=>{const p=A,h=Q;return c(),_("div",te,[t("div",le,[s(h,{class:"carousel","animation-name":"fade"},{default:r(()=>[(c(!0),_(U,null,M(C(m),e=>(c(),z(p,{key:e.slogan},{default:r(()=>[(c(),_("div",{key:e.slogan,class:"carousel-item"},[t("div",ce,u(e.slogan),1),t("div",ie,u(e.subSlogan),1),t("img",{class:"carousel-image",src:e.image},null,8,de)]))]),_:2},1024))),128))]),_:1})])])}}});const ue=x(_e,[["__scopeId","data-v-d5849723"]]),me={class:"login-form-wrapper"},pe={class:"login-form-title"},ge={class:"login-form-password-actions"},fe=S({__name:"login-form",setup(P){const n=ae(),{t:m}=R(),k=G(""),{loading:v,setLoading:p}=ne(),h=se(),e=oe("login-config",{rememberPassword:!0,username:"",password:""}),i=K({username:B(e.value.username),password:e.value.password}),L=async({errors:o,values:a})=>{if(!v.value&&!o){p(!0);try{let l=!1;a.password&&a.password.match(/CIPHER\[.*\]/)&&(l=!0);const d={username:a.username,password:l?B(a.password.match(/CIPHER\[(.*)\]/)[1]):a.password};d.password=re(d.password),await h.login(d);const{redirect:g,...w}=n.currentRoute.value.query;n.push({name:g||"systemConfig",query:{...w}}),T.success(m("login.success"));const{rememberPassword:f}=e.value,{username:y,password:b}=a;e.value.username=f?E(y):"",f?e.value.password=l?b:`CIPHER[${E(b)}]`:e.value.password=""}catch(l){k.value=l.message}finally{p(!1)}}},q=o=>{e.value.rememberPassword=o};return(o,a)=>{const l=F("icon-user"),d=W,g=X,w=F("icon-lock"),f=Y,y=Z,b=j,H=J,D=O;return c(),_("div",me,[t("div",pe,u(o.$t("login.title")),1),s(D,{ref:"loginForm",model:i,class:"login-form",layout:"vertical",onSubmit:L},{default:r(()=>[s(g,{field:"username",rules:[{required:!0,message:o.$t("login.username.error")}],"validate-trigger":["change","blur"],"hide-label":""},{default:r(()=>[s(d,{modelValue:i.username,"onUpdate:modelValue":a[0]||(a[0]=$=>i.username=$),placeholder:o.$t("login.username.placeholder")},{prefix:r(()=>[s(l)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(g,{field:"password",rules:[{required:!0,message:o.$t("login.password.error")}],"validate-trigger":["change","blur"],"hide-label":""},{default:r(()=>[s(f,{modelValue:i.password,"onUpdate:modelValue":a[1]||(a[1]=$=>i.password=$),placeholder:o.$t("login.password.placeholder"),"allow-clear":""},{prefix:r(()=>[s(w)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(H,{size:16,direction:"vertical"},{default:r(()=>[t("div",ge,[s(y,{checked:"rememberPassword","model-value":C(e).rememberPassword,onChange:q},{default:r(()=>[V(u(o.$t("login.rememberPassword")),1)]),_:1},8,["model-value","onChange"])]),s(b,{type:"primary","html-type":"submit",long:"",loading:C(v)},{default:r(()=>[V(u(o.$t("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});const be=x(fe,[["__scopeId","data-v-cfb7836c"]]),ve={class:"container"},he={class:"content"},we={class:"content-inner"},ye={class:"footer"},$e=S({__name:"index",setup(P){return(n,m)=>(c(),_("div",ve,[s(ue),t("div",he,[t("div",we,[s(be)]),t("div",ye,[s(ee)])])]))}});const qe=x($e,[["__scopeId","data-v-92d26387"]]);export{qe as default};
