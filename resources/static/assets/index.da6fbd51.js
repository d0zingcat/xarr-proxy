import{u as le,_ as se}from"./index.08985164.js";/* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as ie,a as r,r as K,c as re,aI as s,A as c,B as q,aF as e,aE as t,aK as w,aL as m,u as N,aD as _,D as v,aQ as T,aX as ce,aY as de,bw as ue,bx as pe,by as me,b1 as _e,bz as ve,a$ as ye,b0 as ge,bA as fe,bB as be}from"./arco.f2670ebc.js";import{r as he,s as we,q as Ie}from"./sonarr.15b541c7.js";import"./vue.758b0c86.js";const ke={class:"container"},xe={key:1},Se=ie({__name:"index",setup(ze){const y=o=>{o.value=!0},g=o=>{setTimeout(()=>{o.value=!1},300)},{t:n}=le(),I=r(!1),k=r(!1),x=r(!1),S=r(!1),d=r([]),$=r([]),D=K({type:"checkbox",showCheckedAll:!0,onlyCurrent:!1}),P=re(()=>[{title:n("sonarr.title.tvdbId"),dataIndex:"tvdbId",align:"center",width:100,ellipsis:!0,tooltip:!0},{title:n("sonarr.title.sno"),dataIndex:"sno",align:"center",width:100,ellipsis:!0,tooltip:!0},{title:n("sonarr.title.mainTitle"),dataIndex:"mainTitle",ellipsis:!0,tooltip:!0},{title:n("sonarr.title.title"),dataIndex:"title",ellipsis:!0,tooltip:!0},{title:n("sonarr.title.cleanTitle"),dataIndex:"cleanTitle",ellipsis:!0,tooltip:!0},{title:n("sonarr.title.seasonNumber"),dataIndex:"seasonNumber",slotName:"seasonNumber",align:"center",width:100,ellipsis:!0,tooltip:!0},{title:n("sonarr.title.monitored"),dataIndex:"monitored",slotName:"monitored",align:"center",width:105,ellipsis:!0,tooltip:!0},{title:n("sonarr.title.validStatus"),dataIndex:"validStatus",slotName:"validStatus",align:"center",width:100}]),f={current:1,pageSize:10},u=K({showTotal:!0,showPageSize:!0,pageSizeOptions:[10,20,100,1e3],...f}),B=()=>({tvdbId:void 0,title:void 0}),l=r(B()),b=async o=>{y(k),await Ie(o).then(i=>{$.value=i.data.list,u.current=o.current,u.total=i.data.total}).finally(()=>{g(k),d.value=[]})},z=()=>{y(I),b({...f,...l.value}).finally(()=>{g(I)})},A=()=>{l.value=B()},U=o=>{b({...f,current:o,...l.value})},E=o=>{f.pageSize=o,u.pageSize=o,b({...u,...l.value})},Q=()=>{if(!d.value||d.value.length===0){T.warning(n("sonarr.title.select.warning"));return}y(x),he(d.value).then(()=>{T.success(n("sonarr.title.remove.success")),b({...u,...l.value})}).finally(()=>{g(x)})},M=()=>{y(S),we().then(()=>{T.success(n("sonarr.title.sync.success")),z()}).finally(()=>{g(S)})};return z(),(o,i)=>{const O=s("Breadcrumb"),R=ce,V=de,p=ue,X=pe,C=me,Y=_e,L=ve,j=s("icon-search"),h=ye,G=s("icon-refresh"),F=ge,H=s("icon-delete"),J=s("icon-sync"),W=s("icon-minus"),Z=s("icon-eye"),ee=s("icon-eye-invisible"),te=s("icon-check-circle"),oe=s("icon-close-circle"),ne=fe,ae=be;return c(),q("div",ke,[e(O,{items:["menu.sonarr","menu.sonarr.title"]},null,8,["items"]),e(ae,{class:"general-card",title:N(n)("menu.sonarr.title")},{default:t(()=>[e(C,null,{default:t(()=>[e(p,{flex:1},{default:t(()=>[e(Y,{"label-col-props":{span:5},"wrapper-col-props":{span:15},"label-align":"left",model:l.value},{default:t(()=>[e(C,{gutter:16},{default:t(()=>[e(p,{span:8},{default:t(()=>[e(V,{field:"title",label:o.$t("sonarr.title.title")},{default:t(()=>[e(R,{modelValue:l.value.title,"onUpdate:modelValue":i[0]||(i[0]=a=>l.value.title=a),"allow-clear":"",placeholder:o.$t("sonarr.title.title.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:8},{default:t(()=>[e(V,{field:"tvdbId","label-col-props":{span:8},label:o.$t("sonarr.title.tvdbId")},{default:t(()=>[e(X,{modelValue:l.value.tvdbId,"onUpdate:modelValue":i[1]||(i[1]=a=>l.value.tvdbId=a),min:0,"allow-clear":"",placeholder:o.$t("sonarr.title.tvdbId.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(L,{style:{height:"35px"},direction:"vertical"}),e(p,{flex:"86px",style:{"text-align":"right"}},{default:t(()=>[e(F,{size:18},{default:t(()=>[e(h,{type:"primary",loading:I.value,onClick:z},{icon:t(()=>[e(j)]),default:t(()=>[w(" "+m(o.$t("sonarr.title.search")),1)]),_:1},8,["loading"]),e(h,{onClick:A},{icon:t(()=>[e(G)]),default:t(()=>[w(" "+m(o.$t("sonarr.title.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(L,{style:{"margin-top":"0"}}),e(C,{style:{"margin-bottom":"16px"}},{default:t(()=>[e(p,{span:12},{default:t(()=>[e(F,null,{default:t(()=>[e(h,{type:"primary",status:"danger",loading:x.value,onClick:Q},{icon:t(()=>[e(H)]),default:t(()=>[w(" "+m(o.$t("sonarr.title.remove")),1)]),_:1},8,["loading"]),e(h,{type:"primary",loading:S.value,onClick:M},{icon:t(()=>[e(J)]),default:t(()=>[w(" "+m(o.$t("sonarr.title.sync")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(ne,{selectedKeys:d.value,"onUpdate:selectedKeys":i[2]||(i[2]=a=>d.value=a),"row-key":"id",size:"medium",data:$.value,columns:N(P),bordered:!1,loading:k.value,pagination:u,"row-selection":N(D),onPageSizeChange:E,onPageChange:U},{seasonNumber:t(({record:a})=>[a.seasonNumber===-1?(c(),_(W,{key:0,size:"13",style:v({color:"var(--color-neutral-6)"})},null,8,["style"])):(c(),q("span",xe,m(a.seasonNumber),1))]),monitored:t(({record:a})=>[a.monitored===1?(c(),_(Z,{key:0,size:"21",style:v({color:"rgb(var(--green-6))"})},null,8,["style"])):(c(),_(ee,{key:1,size:"21",style:v({color:"var(--color-neutral-6)"})},null,8,["style"]))]),validStatus:t(({record:a})=>[a.validStatus===1?(c(),_(te,{key:0,size:"21",style:v({color:"rgb(var(--green-6))"})},null,8,["style"])):(c(),_(oe,{key:1,size:"21",style:v({color:"rgb(var(--orange-6))"})},null,8,["style"]))]),_:1},8,["selectedKeys","data","columns","loading","pagination","row-selection"])]),_:1},8,["title"])])}}});const Qe=se(Se,[["__scopeId","data-v-5e7df3e7"]]);export{Qe as default};
